(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22e65b82"],{7347:function(t,e,a){"use strict";var n=a("bc75"),s=a.n(n);s.a},a53f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deal-page row text-center"},[a("div",{staticClass:"flex md12 xs10"},[a("va-card",{attrs:{title:"Deal List"}},[a("router-link",{attrs:{to:"/deals"}},[a("va-button",{staticClass:"mb-4"},[t._v("Add Deals")])],1),0!==t.length||t.loading||t.isSpinner?t._e():a("div",{staticClass:"empty-error my-5"},[a("b",[t._v("No Deals !!")])]),a("div",{staticClass:"text--center pb-4"},[a("div",{staticClass:"flex-center spinner-box"},[t.isSpinner?a("orbit-spinner",{attrs:{"animation-duration":1200,size:55,color:"rgb(64, 229, 131)"}}):t._e()],1)]),t.length>0?a("va-data-table",{attrs:{fields:t.fields,data:t.dealsList,loading:t.loading,totalPages:t.totalPages,"per-page":3,"api-mode":""},on:{"page-selected":t.readItems},scopedSlots:t._u([{key:"title",fn:function(e){return[a("router-link",{attrs:{to:{path:"/deal/"+e.rowData._id}}},[t._v("\n            "+t._s(e.rowData.name)+"\n          ")])]}},{key:"products",fn:function(e){return t._l(e.rowData.products,function(e,n){return a("div",{key:n},[t._v("\n            "+t._s(e.title)+"\n          ")])})}},{key:"Edit",fn:function(t){return[a("router-link",{attrs:{to:{name:"deals-form",params:{id:t.rowData._id,isEdit:!0}}}},[a("va-popover",{attrs:{message:"Edit "+t.rowData.name,placement:"bottom"}},[a("va-button",{attrs:{flat:"",small:"",color:"gray",icon:"fa fa-pencil"}})],1)],1)]}},{key:"Delete",fn:function(e){return[a("va-popover",{attrs:{message:"Delete "+e.rowData.name,placement:"top"}},[a("va-button",{attrs:{flat:"",small:"",color:"danger",icon:"fa fa-trash"},on:{click:function(a){return t.remove(e.rowData._id)}}})],1)]}},{key:"View_Details",fn:function(e){return[a("router-link",{attrs:{to:{name:"deal-details",params:{id:e.rowData._id,isEdit:!0}}}},[a("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"gray"}},[t._v("\n              View Details\n            ")])],1)]}}],null,!1,687732972)}):t._e()],1)],1)])},s=[],i=(a("20d6"),a("bc3a"),a("a18c"),a("4583")),l={name:"deal-page",data:function(){return{pageNum:1,limit:3,dealsList:[],length:"",loading:!1,perPage:3,totalPages:0,isSpinner:!1}},components:{OrbitSpinner:i["a"]},computed:{fields:function(){return[{name:"__slot:title",title:"Name"},{name:"__slot:products",title:"Products"},{name:"category.title",title:"Category"},{name:"__slot:Edit",title:"Edit"},{name:"__slot:Delete",title:"Delete"},{name:"__slot:View_Details",title:"View Details"}]}},created:function(){var t=this;this.isSpinner=!0,this.$store.dispatch("getData","/deals/".concat(this.pageNum,"/").concat(this.limit)).then(function(e){t.dealsList=e.data.response_data.deals,t.totalPages=Math.ceil(e.data.response_data.totalDeals/t.limit),t.length=t.dealsList.length,t.isSpinner=!1}).catch(function(t){Vue.toaster.error(t)})},methods:{readItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading=!0,this.pageNum=e;this.limit;this.$store.dispatch("getData","/deals/".concat(this.pageNum,"/").concat(this.limit)).then(function(e){t.dealsList=e.data.response_data.deals,t.length=t.dealsList.length,t.loading=!1}).catch(function(t){Vue.toaster.error(t)})},remove:function(t){var e=this,a=this,n=this.dealsList.findIndex(function(e){return e._id===t});this.$swal({title:"Are you sure?",text:"You can't revert your action",type:"warning",showCancelButton:!0,confirmButtonText:"Yes Delete it!",cancelButtonText:"No, Keep it!",showCloseButton:!0,showLoaderOnConfirm:!0}).then(function(s){s.value?e.$store.dispatch("deleteData","deals/delete/".concat(t)).then(function(t){e.$swal("Deleted","You successfully deleted this file","success"),a.dealsList.splice(n,1),0===a.dealsList.length&&(a.pageNum=1,a.limit=3),e.dealData()}).catch(function(t){Vue.toaster.error(t)}):e.$swal("Cancelled","Your file is still intact","info")})},dealData:function(){var t=this;this.$store.dispatch("getData","/deals/".concat(this.pageNum,"/").concat(this.limit)).then(function(e){t.dealsList=e.data.response_data.deals,t.length=t.dealsList.length,t.totalPages=Math.ceil(e.data.response_data.totalDeals/t.limit),t.loading=!1}).catch(function(t){Vue.toaster.error(t)})}}},o=l,r=(a("7347"),a("2877")),c=Object(r["a"])(o,n,s,!1,null,null,null);e["default"]=c.exports},bc75:function(t,e,a){}}]);
//# sourceMappingURL=chunk-22e65b82.ee9873e1.js.map